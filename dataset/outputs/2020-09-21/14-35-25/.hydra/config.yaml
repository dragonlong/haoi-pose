exp_num: '1'
exp_name: default
task: category_pose
name_dset: shape2motion
item: eyeglasses
n_max_parts: 4
nocs_type: A
num_expr: 0.01
name_model: pointnet2_charlesmsg
root_data: /groups/CESCA-CV/ICML2021/data
log_dir: /model/${item}/${exp_num}
verbose: false
use_pretrain: false
is_debug: false
eval: false
pretrained_path: ''
is_testing: false
pred_hand: true
pred_joint: false
pred_mano: false
rot_align: false
pred_joint_ind: false
pretty_print: false
distributed: false
port: '8803'
num_gpus: 1
gpu: '0'
num_workers: 8
nframe: 1
f: aa
show_fig: true
save_fig: false
TRAIN:
  shuffle_train: true
  use_direct_regression: false
  partcls_loss_multiplier: 1.0
  nocs_loss_multiplier: 0.0
  gocs_loss_multiplier: 0.0
  handvertices_loss_multiplier: 0.0
  handjoints_loss_multiplier: 0.0
  jointcls_loss_multiplier: 1.0
  handheatmap_loss_multiplier: 0.0
  handunitvec_loss_multiplier: 0.0
  confidence_loss_multiplier: 0.0
  heatmap_loss_multiplier: 1.0
  unitvec_loss_multiplier: 5.0
  orient_loss_multiplier: 0.2
  total_loss_multiplier: 1.0
  regression_loss_multiplier: 1.0
  regressionR_loss_multiplier: 1.0
  regressionT_loss_multiplier: 0.0
  orthogonality_loss_multiplier: 0.1
  coord_regress_loss: L2
  parametri_type: orth
  batch_size: 16
  batch_size_per_gpu: 16
  train_data_file: shape2motion/hdf5/0.01/train.txt
  train_first_n: -1
  train_data_add_noise: true
  val_data_file: shape2motion/hdf5/0.01/test.txt
  val_first_n: -1
  val_data_add_noise: true
  test_data_file: shape2motion/hdf5/0.01/test.txt
  test_first_n: -1
  test_data_noisy: true
  start_epoch: 0
  num_epoch: 1000
  epoch_iters: 5000
  disp_iter: 20
  report_batch: 1
  report_epoch: 1
  val_interval: 5000
  snapshot_interval: 1000
  writer_start_step: 100
  warmup_epochs: 1
  bn_decay_step: 200000
  decay_step: 200000
  decay_rate: 0.7
  init_learning_rate: 0.001
  running_lr: 0.0
  lr_encoder: 0.01
  lr_decoder: 0.01
  running_lr_encoder: 0.01
  running_lr_decoder: 0.01
  loss: xentropy
  loss_weight: 1.0
  epsilon_w: 0.001
  optim: SGD
  lr_pow: 1.0
  lr_decay: 0.998
  lr_warmup: true
  beta1: 0.9
  momentum: 0.9
  weight_decay: 0.0001
  fix_bn: false
  dropout: 0.1
  bn_d: 0.01
  save_summary: false
  save_scans: false
  show_scans: false
  seed: 304
  in_model_dir: results/model
  out_model_dir: results/model
  val_prediction_dir: results/val_pred
  val_prediction_n_keep: 2
  test_prediction_dir: results/test_pred
  demo_prediction_dir: results/demo
  log_dir: results/log
MODEL:
  num_classes: 4
  arch_encoder: identical
  arch_decoder: pointnet2_single
  arch_head: segmentation
  weights_encoder: ''
  weights_decoder: ''
HEAD:
  partcls_per_point:
  - 128
  - 4
  - softmax
  nocs_per_point:
  - 128
  - None
  - sigmoid
  handheatmap_per_point:
  - 128
  - 128
  - 21
  - sigmoid
  handunitvec_per_point:
  - 128
  - 128
  - 63
  - tanh
  confidence_per_point:
  - 128
  - 1
  - sigmoid
  regression_params:
  - 1024
  - 1024
  - 512
  - 63
point:
  encoder_weights: ''
  decoder_weights: ''
  header_weights: ''
models:
  pointnet2:
    class: pointnet2.PointNet2_MP
    conv_type: MESSAGE_PASSING
    down_conv:
      module_name: SAModule
      ratios:
      - 0.2
      - 0.25
      radius:
      - 0.2
      - 0.4
      down_conv_nn:
      - - 0 + 3
        - 64
        - 64
        - 128
      - - 128 + 3
        - 128
        - 128
        - 256
      radius_num_points:
      - 64
      - 64
    up_conv:
      module_name: FPModule
      up_conv_nn:
      - - 1024 + 256
        - 256
        - 256
      - - 256 + 128
        - 256
        - 128
      - - 128 + 0
        - 128
        - 128
        - 128
      up_k:
      - 1
      - 3
      - 3
      skip: true
    innermost:
      module_name: GlobalBaseModule
      aggr: max
      nn:
      - 256 + 3
      - 256
      - 512
      - 1024
    mlp_cls:
      nn:
      - 128
      - 128
      - 128
      - 128
      - 128
      dropout: 0.5
  pointnet2ms:
    class: pointnet2.PointNet2_MP
    conv_type: MESSAGE_PASSING
    down_conv:
      module_name: SAModule
      ratios:
      - 0.25
      - 0.25
      radius:
      - - 0.1
        - 0.2
        - 0.4
      - - 0.4
        - 0.8
      radius_num_points:
      - - 32
        - 64
        - 128
      - - 64
        - 128
      down_conv_nn:
      - - 0+3
        - 64
        - 96
        - 128
      - - 128 * 3 + 3
        - 128
        - 196
        - 256
    up_conv:
      module_name: FPModule
      up_conv_nn:
      - - 1024 + 256 * 2
        - 256
        - 256
      - - 256 + 128 * 3
        - 128
        - 128
      - - 128 + 0
        - 128
        - 128
      up_k:
      - 1
      - 3
      - 3
      skip: true
    innermost:
      module_name: GlobalBaseModule
      aggr: max
      nn:
      - 256* 2 + 3
      - 256
      - 512
      - 1024
    mlp_cls:
      nn:
      - 128
      - 128
      - 128
      - 128
      - 128
      dropout: 0.5
  pointnet2_largemsg:
    class: pointnet2.PointNet2_D
    conv_type: DENSE
    use_category: ${data.use_category}
    down_conv:
      module_name: PointNetMSGDown
      npoint:
      - 1024
      - 256
      - 64
      - 16
      radii:
      - - 0.05
        - 0.1
      - - 0.1
        - 0.2
      - - 0.2
        - 0.4
      - - 0.4
        - 0.8
      nsamples:
      - - 16
        - 32
      - - 16
        - 32
      - - 16
        - 32
      - - 16
        - 32
      down_conv_nn:
      - - - 0+3
          - 16
          - 16
          - 32
        - - 0+3
          - 32
          - 32
          - 64
      - - - 32 + 64+3
          - 64
          - 64
          - 128
        - - 32 + 64+3
          - 64
          - 96
          - 128
      - - - 128 + 128+3
          - 128
          - 196
          - 256
        - - 128 + 128+3
          - 128
          - 196
          - 256
      - - - 256 + 256+3
          - 256
          - 256
          - 512
        - - 256 + 256+3
          - 256
          - 384
          - 512
    up_conv:
      module_name: DenseFPModule
      up_conv_nn:
      - - 512 + 512 + 256 + 256
        - 512
        - 512
      - - 512 + 128 + 128
        - 512
        - 512
      - - 512 + 64 + 32
        - 256
        - 256
      - - 256 + 0
        - 128
        - 128
      skip: true
    mlp_cls:
      nn:
      - 128
      - 128
      dropout: 0.5
  pointnet2_meteornet:
    class: pointnet2.PointNet2_D
    conv_type: DENSE
    use_category: ${data.use_category}
    down_conv:
      module_name: PointNetMSGDown
      kernel_type: pointnet++
      knn: false
      share: true
      use_time: false
      padding: 0
      window_size:
      - 2
      - 2
      - 2
      - 2
      layer_size:
      - 1
      - 1
      - 1
      - 1
      npoint:
      - 1024
      - 512
      - 128
      - 64
      radii:
      - - 0.1
      - - 0.2
      - - 0.4
      - - 0.8
      nsamples:
      - - 32
      - - 32
      - - 32
      - - 32
      down_conv_nn:
      - - - 0+3
          - 32
          - 32
          - 128
      - - - 128+3
          - 64
          - 64
          - 256
      - - - 256+3
          - 128
          - 128
          - 512
      - - - 512+3
          - 256
          - 256
          - 1024
    up_conv:
      module_name: DenseFPModule
      up_conv_nn:
      - - 1024 + 512
        - 256
        - 256
      - - 256 + 256
        - 256
        - 256
      - - 256 + 128
        - 256
        - 128
      - - 128 + 0
        - 128
        - 128
      skip: true
    mlp_cls:
      nn:
      - 128
      dropout: 0.5
  pointnet2_charlesmsg:
    class: pointnet2.PointNet2_D
    conv_type: DENSE
    use_category: ${data.use_category}
    down_conv:
      module_name: PointNetMSGDown
      npoint:
      - 512
      - 128
      radii:
      - - 0.1
        - 0.2
        - 0.4
      - - 0.4
        - 0.8
      nsamples:
      - - 32
        - 64
        - 128
      - - 64
        - 128
      down_conv_nn:
      - - - 0+3
          - 32
          - 32
          - 64
        - - 0+3
          - 64
          - 64
          - 128
        - - 0+3
          - 64
          - 96
          - 128
      - - - 64 + 128 + 128+3
          - 128
          - 128
          - 256
        - - 64 + 128 + 128+3
          - 128
          - 196
          - 256
    innermost:
      module_name: GlobalDenseBaseModule
      nn:
      - 256 * 2 + 3
      - 256
      - 512
      - 1024
    up_conv:
      module_name: DenseFPModule
      up_conv_nn:
      - - 1024 + 256*2
        - 256
        - 256
      - - 256 + 128 * 2 + 64
        - 256
        - 128
      - - 128 + 0
        - 128
        - 128
      skip: true
    mlp_cls:
      nn:
      - 128
      dropout: 0.5
  pointnet2_charlesssg:
    class: pointnet2.PointNet2_D
    conv_type: DENSE
    use_category: ${data.use_category}
    down_conv:
      module_name: PointNetMSGDown
      npoint:
      - 512
      - 128
      radii:
      - - 0.2
      - - 0.4
      nsamples:
      - - 64
      - - 64
      down_conv_nn:
      - - - 0 + 3
          - 64
          - 64
          - 128
      - - - 128+3
          - 128
          - 128
          - 256
    innermost:
      module_name: GlobalDenseBaseModule
      nn:
      - 256 + 3
      - 256
      - 512
      - 1024
    up_conv:
      module_name: DenseFPModule
      up_conv_nn:
      - - 1024 + 256
        - 256
        - 256
      - - 256 + 128
        - 256
        - 128
      - - 128 + 0
        - 128
        - 128
        - 128
      skip: true
    mlp_cls:
      nn:
      - 128
      - 128
      dropout: 0.5
